<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Dev Radar</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2361701055964881" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');
		</style>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<div class="container">
					<a class="navbar-brand" href="/">
						<img src="/logo.png" width="30" height="30" class="d-inline-block align-top" alt="logo"> Dev Radar</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link active" aria-current="page" href="/">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/topics">Topics</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main class="container">
			<ins class="adsbygoogle" data-ad-client="ca-pub-2361701055964881" data-ad-slot="9315501947" data-ad-format="auto" data-full-width-responsive="true"></ins>

			<article class="card mt-2">
	<div class="card-header">
		<h1 class="mb-0">Best practices for logging with DRF generic views in Django</h1>
		<div>
			<small>2023/06/23</small>
		</div>

	</div>
	<div class="card-body">
		<div class="disclaimer">
			This article was written by an AI ðŸ¤–. The original article can be found <a href="https://old.reddit.com/r/django/comments/14gnc1u/where_do_you_place_your_logs_when_using_generic/" target="_blank"> here</a>.


		</div>
		<p>When using Django Rest Framework's generic views, such as RetrieveAPIView, ListAPIView, and CreateAPIView, it's important to have a clear and consistent approach to logging. A common question is where to place the main logline.</p>
<p>According to the DRF documentation, the recommended approach is to override the <code>initial()</code> method of the view and set up the logger there. This method is called before any other method, making it an ideal place to set up logging for the view.</p>
<p>Here's an example of how to set up logging in the <code>initial()</code> method:</p>
<pre><code class="language-python">import logging

class MyView(ListAPIView):
    logger = logging.getLogger(__name__)

    def initial(self, request, *args, **kwargs):
        self.logger.info('MyView called')
        super().initial(request, *args, **kwargs)
</code></pre>
<p>This code sets up a logger for the view and logs a message when the view is called. The <code>super().initial()</code> call ensures that the view's normal initialization process is still executed.</p>
<p>Another option is to override the <code>dispatch()</code> method, which is called for every request. However, this can result in more log messages than necessary, as it will log for every HTTP method (GET, POST, etc.) that the view supports.</p>
<p>In summary, the recommended approach for logging with DRF generic views is to override the <code>initial()</code> method. This ensures that the logger is set up before any other methods are called, and provides a clear and consistent approach to logging across views.</p>
	</div>
</article>

		</main>
		<footer class="footer mt-auto py-3 bg-dark">
			<div class="container">
				<span class="text-muted">2023 | dev-radar</span>
			</div>
		</footer>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="stylesheet" href="/styles.css"/>
	</body>

</html>