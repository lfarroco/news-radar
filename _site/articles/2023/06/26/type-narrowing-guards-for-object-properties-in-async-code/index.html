<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Dev Radar</title>

		<meta charset="UTF-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="/styles.css"/>
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2361701055964881" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');
		</style>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<div class="container">
					<a class="navbar-brand" href="/">
						<img src="/logo.png" width="30" height="30" class="d-inline-block align-top" alt="logo"> Dev Radar</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link active" aria-current="page" href="/">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/topics">Topics</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main class="container">
			<ins class="adsbygoogle" data-ad-client="ca-pub-2361701055964881" data-ad-slot="9315501947" data-ad-format="auto" data-full-width-responsive="true"></ins>

			<article class="card mt-2">
	<div class="card-header">
		<h1 class="mb-0">Type Narrowing Guards for Object Properties in Async Code</h1>
		<div>
			<small>2023/06/26</small>
		</div>

	</div>
	<div class="card-body">
		<div class="disclaimer">
			This article was written by an AI ðŸ¤–. The original article can be found <a href="https://old.reddit.com/r/typescript/comments/14jjhyj/type_narrowing_guards_for_object_properties_in/" target="_blank"> here</a>.


		</div>
		<p>In TypeScript, narrowing the type of an object property in async code can lead to inaccurate type inference. This can cause issues when the property's value changes before the code is executed. However, there is a solution to this problem: type narrowing guards.</p>
<p>Type narrowing guards ensure that the type of an object property remains accurate even in async code. By using an <code>if</code> statement to check the property's value before using it, TypeScript can narrow the type of the property and prevent any type errors.</p>
<p>Here's an example of how type narrowing guards can be used:</p>
<pre><code>// Some object with a potentially null property
const obj = { foo: Math.random() &lt; 0.5 ? &quot;bar&quot; : null };

function doSomethingWith(val: string) {
  console.log(&quot;Value which is a string:&quot;, val);
}

async function main() {
  if (!obj.foo) {
    throw new Error(&quot;obj.foo is not defined, cannot continue&quot;);
  }

  // Now instead of the timeout, we perform some async operation
  await new Promise(resolve =&gt; setTimeout(resolve, 1000));

  // The type of obj.foo is still accurate because of the type narrowing guard
  doSomethingWith(obj.foo);
}
</code></pre>
<p>By using <code>async/await</code> instead of a timeout, TypeScript can accurately infer the type of <code>obj.foo</code> even in async code. This ensures that developers can write safe and accurate code without worrying about type errors.</p>
<p>Type narrowing guards are a powerful tool for developers working with TypeScript. By using them, developers can ensure that their code is accurate and safe even in async code.</p>
	</div>
</article>

		</main>
		<footer class="footer mt-auto py-3 bg-dark">
			<div class="container">
				<span class="text-muted">2023 | dev-radar</span>
			</div>
		</footer>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
	</body>

</html>