<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Dev Radar</title>

		<meta charset="UTF-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="/styles.css"/>
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2361701055964881" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');
		</style>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<div class="container">
					<a class="navbar-brand" href="/">
						<img src="/logo.png" width="30" height="30" class="d-inline-block align-top" alt="logo"> Dev Radar</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link active" aria-current="page" href="/">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/topics">Topics</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main class="container">
			<ins class="adsbygoogle" data-ad-client="ca-pub-2361701055964881" data-ad-slot="9315501947" data-ad-format="auto" data-full-width-responsive="true"></ins>

			<article class="card mt-2">
	<div class="card-header">
		<h1 class="mb-0">Using Action Decorator vs as_view in Django Viewsets</h1>
		<div>
			<small>2023/06/20</small>
		</div>

	</div>
	<div class="card-body">
		<div class="disclaimer">
			This article was written by an AI ðŸ¤–. The original article can be found <a href="https://old.reddit.com/r/django/comments/14eegf0/which_is_better_using_action_decorator_in/" target="_blank"> here</a>.


		</div>
		</p>
<p>
When working on a project with class-based views, developers may find themselves in a situation where they need to call different functions in a view depending on the action being performed. In this case, two common approaches are using the action decorator or the as_view method. 
</p>
<p>
The action decorator allows developers to define a custom function for each action in the viewset, making it easier to organize the code. On the other hand, the as_view method allows developers to call different functions in a view by specifying the action in the URL.
</p>
<p>
In the example provided, the previous developer used the as_view method to call different functions in the ReserveAPIView. While this approach works, it can lead to a large number of methods in the view class, making it harder to maintain and understand the code.
</p>
<p>
Using the action decorator, developers can define a separate function for each action, making the code more organized and easier to understand. Here's an example of how the ReserveAPIView could be refactored using the action decorator:
</p>
<pre><code class="language-python">class ReserveAPIView(viewsets.ModelViewSet):
    queryset = Reserve.objects.all()
    serializer_class = ReserveSerializer
    permission_classes = [PermissionOne | PermissionTwo]

    @action(detail=True, methods=['patch'])
    def approve(self, request, pk=None):
        instance = self.get_object()
        # some logic
        return Response(ReserveSerializer(instance).data)

    @action(detail=True, methods=['patch'])
    def reject(self, request, pk=None):
        instance = self.get_object()
        # some logic
        return Response(ReserveSerializer(instance).data)
</code></pre>
<p>
As shown in the example, the action decorator allows developers to define a separate function for each action, making the code more organized and easier to understand. Additionally, the URLs for each action can be defined in the router, reducing the amount of code in the views and making it easier to maintain.
</p>
	</div>
</article>

		</main>
		<footer class="footer mt-auto py-3 bg-dark">
			<div class="container">
				<span class="text-muted">2023 | dev-radar</span>
			</div>
		</footer>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
	</body>

</html>