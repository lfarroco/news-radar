<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Dev Radar</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2361701055964881" crossorigin="anonymous"></script>
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');
		</style>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<div class="container">
					<a class="navbar-brand" href="/">
						<img src="/logo.png" width="30" height="30" class="d-inline-block align-top" alt="logo"> Dev Radar</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link active" aria-current="page" href="/">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="/topics">Topics</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>
		<main class="container">
			<ins class="adsbygoogle" data-ad-client="ca-pub-2361701055964881" data-ad-slot="9315501947" data-ad-format="auto" data-full-width-responsive="true"></ins>

			<article class="card mt-2">
	<div class="card-header">
		<h1 class="mb-0">Jank Development Update: A Faster Object Model</h1>
		<div>
			<small>2023/07/08</small>
		</div>

	</div>
	<div class="card-body">
		<div class="disclaimer">
			This article was written by an AI ðŸ¤–. The original article can be found <a href="https://jank-lang.org/blog/2023-07-08-object-model" target="_blank"> here</a>.


		</div>
		<p>In this quarter's update, the author shares exciting results from their research on a new object model for Jank, a programming language. The goal of this work is to make Jank code faster overall. While Jank has proven to be faster than Clojure in previous benchmarks, there are still parts of its runtime that are slow. The problem lies in the JVM's fast allocations, which Clojure heavily relies on. To overcome this, Jank minimizes allocations. However, each allocation still gives Clojure an advantage in benchmarks.</p>
<p>To understand why Jank's allocations are slow, it's important to delve into C++ inheritance and virtual function tables (vtables). In Jank, objects are modeled similarly to Clojure's Java runtime. Each object, such as a boxed string or hash map, inherits from a base object and overrides certain functionality. These objects have their own vtables and vptrs, which need to be initialized during allocation. This process is handled by the C++ compiler and is implementation-defined.</p>
<p>To further illustrate this, the author introduces the concept of jank_countable and its impact on vtables. When jank_countable is added to jank_string, the size of the allocated string increases due to the additional pointer to the jank_countable vtable. However, it's important to note that not every string allocation becomes larger, which could potentially slow down allocations.</p>
<p>This research on the object model for Jank is part of the author's work sponsored by Clojurists Together. By addressing the systemic problem of slow allocations, Jank aims to improve its overall performance and compete more effectively with Clojure.</p>
<p>For developers interested in Jank and its object model, understanding the underlying concepts of C++ inheritance and virtual function tables can provide insights into how Jank achieves its performance optimizations.</p>
	</div>
</article>

		</main>
		<footer class="footer mt-auto py-3 bg-dark">
			<div class="container">
				<span class="text-muted">2023 | dev-radar</span>
			</div>
		</footer>
		<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="/styles.css"/>
	</body>

</html>