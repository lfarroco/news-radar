{"layout":"article.njk","title":"Adventures with inadvertently eager Clojure, via `sequence` and `mapcat`","date":"2023-07-04T03:00:00.000Z","formattedDate":"2023-7-4","source_link":"https://www.juxt.pro/blog/sequence-mapcat/","tags":["clojure"],"topics":[{"name":"Clojure","slug":"clojure"}],"content":"<p>The article shows the author&#39;s experience with mixing lazy-seqs and transducers in a Clojure data transformation script. While working on a distributed bitemporal indexing strategy, the author encountered an out-of-memory error when running a script written in Clojure. The author explains how they were able to track down the issue and identifies the combination of the <code>mapcat</code> and <code>sequence</code> functions as the cause. The article dives into the source code of the <code>mapcat</code> transducer and provides an explanation of how it works. This article serves as a cautionary tale for Clojure developers to be mindful of mixing lazy-seqs and transducers to avoid similar issues.</p>\n"}