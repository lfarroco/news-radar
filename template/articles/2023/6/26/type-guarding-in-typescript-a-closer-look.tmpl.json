{"layout":"article.njk","title":"Type Guarding in TypeScript: A Closer Look","date":"2023-06-26T03:00:00.000Z","formattedDate":"2023-6-26","source_link":"https://old.reddit.com/r/typescript/comments/14javvx/type_guarding_on_object_properties_have_different/","tags":["typescript","javascript"],"topics":[{"name":"TypeScript","slug":"typescript"},{"name":"JavaScript","slug":"javascript"}],"content":"<p>TypeScript is a popular programming language that provides static typing to JavaScript. Type guarding is an essential feature of TypeScript that allows developers to narrow down the type of a variable based on a condition. However, there is a subtle difference in the behavior of type guarding when it comes to object properties.</p>\n<p>The article demonstrates this difference through code snippets. It shows that type guarding on object properties inside a function context has different results than having those properties as their own variable. The author is unsure whether this is a bug or a feature.</p>\n<p>TypeScript developers should be aware of this behavior, especially when dealing with complex objects. It is crucial to understand the nuances of type guarding to avoid unexpected behavior in their code.</p>\n<p>In addition to the article&#39;s code snippets, here&#39;s an example to illustrate the point:</p>\n<pre><code>type Person = {\n  name: string;\n  age: number | null;\n};\n\nconst isAdult = (person: Person): person is { name: string, age: number } =&gt; {\n  return person.age !== null &amp;&amp; person.age &gt;= 18;\n};\n\nconst person: Person = { name: &quot;John&quot;, age: null };\n\nif (isAdult(person)) {\n  // `person` is now narrowed down to { name: string, age: number }\n  console.log(`${person.name} is an adult`);\n}\n\n// However, if we have `person` be inside an object:\nconst obj = { person };\n\nif (isAdult(obj.person)) {\n  // `obj.person` is still of type `Person`\n  console.log(`${obj.person.name} is an adult`);\n}\n</code></pre>\n<p>In conclusion, type guarding in TypeScript is a powerful tool that helps developers write more robust code. However, it is essential to understand its behavior, especially when it comes to object properties. By being aware of these nuances, developers can avoid unexpected behavior and write more efficient code.</p>\n"}